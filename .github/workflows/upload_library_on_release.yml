name: Upload library to the release

on:
  push:
    branches: main

jobs:
  build:
    runs-on: ubuntu-latest

    steps: 
    
      - name: 🛎 Checkout repo
        uses: actions/checkout@v2
        with: 
          fetch-depth: 0
          
      - name: ⚙️ Get previous tag.
        id: version
        run: |
          lastTag=`git tag -l --sort=-creatordate --format='%(refname:short)' | head -n 1`
          echo "::set-output name=tag::$lastTag"
          echo $lastTag
          echo ${GITHUB_REF##*/}
          echo $GITHUB_REF | cut -d / -f 3
          
      - name: ⚙️ Get previous tag.
        id: reading
        run: |
          echo "${{steps.version.outputs.tag}}"
